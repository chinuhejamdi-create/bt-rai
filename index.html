<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BLACK TEMPLE · PREMIUM FF IDs</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Exo:wght@500;600;700;800;900&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root {
      --bg: #0a0a0f;
      --surface: #12121a;
      --surface-elevated: #1a1a24;
      --border: #2a2a3a;
      --text: #e8e8ff;
      --text-muted: #a0a0cc;
      --accent: #00d4ff;
      --accent-dark: #0099bb;
      --danger: #ff4d6a;
      --success: #00ff9d;
      --glow: 0 0 24px rgba(0, 212, 255, 0.28);
    }

    * { margin:0; padding:0; box-sizing:border-box; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Exo', sans-serif;
      min-height: 100vh;
      line-height: 1.5;
    }

    .container { max-width: 1480px; margin: 0 auto; padding: 0 16px; }

    h1, h2, h3 { font-family: 'Orbitron', sans-serif; letter-spacing: 1px; }
    h1 { font-size: clamp(2rem, 6vw, 3.2rem); }
    h2 { font-size: clamp(1.5rem, 4.5vw, 2.2rem); }

    .section-title {
      margin: 2.8rem 0 1.4rem;
      padding-left: 1.1rem;
      border-left: 5px solid var(--accent);
      font-weight: 700;
    }

    .header {
      padding: 1.2rem 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 1rem;
      border-bottom: 1px solid var(--border);
    }

    .logo {
      font-size: 2.4rem;
      font-weight: 900;
      background: linear-gradient(90deg, #00d4ff, #ff00aa, #00d4ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 30px rgba(0,212,255,0.5);
    }

    .owner-tag {
      background: rgba(20,20,40,0.75);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 0.7rem 1.6rem;
      font-size: 1rem;
      font-weight: 600;
      box-shadow: var(--glow);
    }

    .banner {
      margin: 2rem 0;
      height: clamp(180px, 28vw, 240px);
      background: linear-gradient(rgba(10,10,20,0.88), rgba(10,10,20,0.75)),
                  url('https://images.unsplash.com/photo-1557683316-973673baf926?w=1600&auto=format&q=80') center/cover;
      border-radius: 24px;
      border: 1px solid var(--border);
      box-shadow: 0 20px 70px rgba(0,0,0,0.65), inset 0 0 50px rgba(0,212,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .banner-content {
      background: rgba(20,20,40,0.7);
      backdrop-filter: blur(14px);
      padding: 1.6rem 3rem;
      border-radius: 20px;
      border: 1px solid rgba(0,212,255,0.35);
      box-shadow: var(--glow);
    }

    .filter-wrapper {
      background: rgba(18,18,30,0.75);
      backdrop-filter: blur(14px);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 1.6rem;
      margin: 2rem auto;
      max-width: 620px;
    }

    .price-slider {
      width: 100%; height: 10px; border-radius: 999px;
      background: linear-gradient(to right, var(--surface) 0%, var(--accent) 50%, var(--surface) 100%);
      appearance: none;
    }

    .price-slider::-webkit-slider-thumb {
      appearance: none; width: 26px; height: 26px;
      background: var(--accent); border: 3px solid #000;
      border-radius: 50%; cursor: pointer;
      box-shadow: 0 0 24px var(--accent);
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(310px, 1fr));
      gap: 1.8rem;
      margin: 1.5rem 0;
    }

    .id-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 20px;
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 12px 40px rgba(0,0,0,0.55);
      position: relative;
    }

    .id-card:hover {
      transform: translateY(-12px);
      box-shadow: var(--glow), 0 0 0 2px rgba(0,212,255,0.45);
      border-color: var(--accent);
    }

    .sold-badge {
      position: absolute;
      top: 14px; right: 14px;
      background: rgba(255,77,106,0.92);
      color: white;
      padding: 0.5rem 1.1rem;
      border-radius: 999px;
      font-size: 0.82rem;
      font-weight: 700;
      backdrop-filter: blur(8px);
      z-index: 10;
    }

    .img-wrapper {
      height: 190px;
      overflow: hidden;
      cursor: pointer;
    }

    .img-wrapper img {
      width: 100%; height: 100%; object-fit: cover;
      transition: transform 0.5s ease;
    }

    .id-card:hover .img-wrapper img { transform: scale(1.14); }

    .card-content {
      padding: 1.3rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .id-stats {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.7rem;
    }

    .stat-item {
      background: rgba(30,30,50,0.65);
      backdrop-filter: blur(8px);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 0.6rem;
      text-align: center;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .description-box {
      background: rgba(20,20,40,0.55);
      border-left: 4px solid var(--accent);
      padding: 0.9rem 1.1rem;
      border-radius: 12px;
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .price {
      font-size: 1.9rem;
      font-weight: 900;
      color: var(--accent);
      text-shadow: 0 0 18px rgba(0,212,255,0.6);
    }

    .btn-group {
      display: flex;
      gap: 0.8rem;
      margin-top: 0.9rem;
    }

    .btn {
      flex: 1;
      padding: 1rem;
      border: none;
      border-radius: 999px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.28s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.6rem;
      font-size: 0.95rem;
    }

    .btn-whatsapp { background: #25D366; color: #000; }
    .btn-whatsapp:hover { background: #20b858; transform: scale(1.05); }

    .btn-chat {
      background: var(--surface-elevated);
      border: 1.5px solid var(--accent);
      color: var(--accent);
    }
    .btn-chat:hover { background: rgba(0,212,255,0.18); transform: scale(1.03); }

    .footer-black {
      background: rgba(10,10,20,0.92);
      backdrop-filter: blur(12px);
      border-top: 2px solid var(--border);
      padding: 3.5rem 0 2rem;
      margin-top: 5rem;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.6rem;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    .footer-item {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 1.4rem;
      text-align: center;
    }

    .whatsapp-float {
      position: fixed;
      bottom: 28px; right: 28px;
      width: 68px; height: 68px;
      background: #25D366;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.9rem;
      box-shadow: 0 12px 40px rgba(37,213,102,0.45);
      z-index: 9999;
      transition: all 0.3s;
    }

    .whatsapp-float:hover { transform: scale(1.18); }

    /* ADMIN STYLES */
    .admin-login-container,
    .admin-panel {
      background: rgba(18,18,30,0.88);
      backdrop-filter: blur(18px);
      border: 1px solid var(--border);
      border-radius: 28px;
      padding: 2.8rem;
      margin: 5rem auto;
      max-width: 540px;
      box-shadow: 0 0 80px rgba(0,0,0,0.8);
    }

    .admin-card input,
    .admin-card textarea {
      width: 100%;
      padding: 1rem 1.3rem;
      margin: 0.7rem 0;
      background: var(--surface-elevated);
      border: 1px solid var(--border);
      border-radius: 14px;
      color: var(--text);
      font-size: 1.05rem;
    }

    .admin-card {
      background: var(--surface-elevated);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 1.5rem;
      margin-bottom: 1.6rem;
    }

    .file-upload-btn {
      background: var(--accent-dark);
      color: #000;
      border: none;
      width: 100%;
      padding: 1rem;
      border-radius: 999px;
      font-weight: 700;
      margin: 0.8rem 0 1.2rem;
      cursor: pointer;
    }

    .preview-thumb {
      width: 100%;
      max-height: 180px;
      object-fit: cover;
      display: block;
      margin: 0.4rem 0 1.2rem;
    }

    @media (max-width: 768px) {
      .card-grid { grid-template-columns: 1fr; }
      .banner { height: 160px; }
      .whatsapp-float { bottom:20px; right:20px; width:60px; height:60px; font-size:1.7rem; }
    }
  </style>
</head>
<body>

<div id="app"></div>

<script>
// ────────────────────────────────────────────────
// DATA
// ────────────────────────────────────────────────
let idList = [
  { img: "https://images.unsplash.com/photo-1607604331653-71fdf6eec41c?w=600&auto=format", level: 72, rank: "HEROIC", gunSkins: 48, charSkins: "Chrono, Alok, K", bundle: "Elite pass S24 + emote", description: "Rare account with good stats...", price: 2899, sold: false },
  { img: "https://images.unsplash.com/photo-1560253023-3ec5d502959f?w=600&auto=format", level: 65, rank: "GRANDMASTER", gunSkins: 37, charSkins: "Alok, Skyler, Hayato", bundle: "Legendary bundle + car skin", description: "Grandmaster rank ready...", price: 1999, sold: false },
  { img: "https://images.unsplash.com/photo-1542751371-adc38448a05e?w=600&auto=format", level: 95, rank: "LEGENDARY", gunSkins: 120, charSkins: "All limited + DJ Alok", bundle: "Rare glacier + 2 lakh diamonds", description: "LEGENDARY ULTIMATE account...", price: 75000, sold: false }
];

// ────────────────────────────────────────────────
// HELPERS
// ────────────────────────────────────────────────
window.openImage = (url) => window.open(url, '_blank');

window.handleImageUpload = (input, index) => {
  const file = input.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = (e) => {
    const dataUrl = e.target.result;
    const preview = document.getElementById(`preview${index}`);
    if (preview) preview.src = dataUrl;

    const hidden = document.getElementById(`img${index}`);
    if (hidden) hidden.value = dataUrl;

    // Keep data in sync immediately
    idList[index].img = dataUrl;
  };
  reader.readAsDataURL(file);
};

function buyNow(index) {
  const item = idList[index];
  if (item.sold) return alert("This account is already sold.");
  const msg = `Hi! Interested in Free Fire ID #${index+1} - Lv ${item.level} ${item.rank} for ₹${item.price}`;
  window.open(`https://wa.me/917619643039?text=${encodeURIComponent(msg)}`, '_blank');
}

function chatNow(index) {
  const item = idList[index];
  if (item.sold) return alert("This account is already sold.");
  const msg = `Hello! Question about ID #${index+1} (Lv ${item.level} ${item.rank})`;
  window.open(`https://wa.me/917619643039?text=${encodeURIComponent(msg)}`, '_blank');
}

// ────────────────────────────────────────────────
// RENDER STORE (MAIN PAGE)
// ────────────────────────────────────────────────
function renderStore() {
  const max = parseInt(document.getElementById('priceSlider')?.value) || 100000;
  const container = document.getElementById('idCardContainer');
  if (!container) return;

  container.innerHTML = '';

  const available = idList.filter(item => !item.sold && item.price >= 500 && item.price <= max);

  if (available.length === 0) {
    container.innerHTML = '<p style="text-align:center; color:var(--text-muted); padding:3rem;">No accounts available in this price range.</p>';
    return;
  }

  available.forEach((item) => {
    const idx = idList.indexOf(item);
    const card = document.createElement('div');
    card.className = 'id-card';

    card.innerHTML = `
      <div class="img-wrapper" onclick="openImage('${item.img}')">
        <img src="${item.img}" alt="FF ID" onerror="this.src='https://placehold.co/600x400/1a1a24/00d4ff?text=IMAGE+ERROR'">
      </div>
      <div class="card-content">
        <div class="id-stats">
          <div class="stat-item"><i class="fa-solid fa-level-up"></i> Lv ${item.level}</div>
          <div class="stat-item"><i class="fa-solid fa-trophy"></i> ${item.rank}</div>
          <div class="stat-item"><i class="fa-solid fa-gun"></i> ${item.gunSkins}</div>
          <div class="stat-item"><i class="fa-solid fa-user"></i> ${item.charSkins.split(',').filter(s=>s.trim()).length}</div>
        </div>
        <p><strong>Characters:</strong> ${item.charSkins}</p>
        <p><strong>Bundle:</strong> ${item.bundle}</p>
        <div class="description-box">${item.description}</div>
        <div class="price">₹${item.price.toLocaleString('en-IN')}</div>
        <div class="btn-group">
          <button class="btn btn-whatsapp" onclick="buyNow(${idx})">
            <i class="fa-brands fa-whatsapp"></i> BUY NOW
          </button>
          <button class="btn btn-chat" onclick="chatNow(${idx})">
            <i class="fa-brands fa-whatsapp"></i> CHAT
          </button>
        </div>
      </div>
    `;
    container.appendChild(card);
  });
}

// ────────────────────────────────────────────────
// ADMIN PANEL RENDER + CRUD
// ────────────────────────────────────────────────
function renderAdminPanel() {
  const content = document.getElementById('adminContent');
  if (!content) return;
  content.innerHTML = '';

  idList.forEach((item, i) => {
    const card = document.createElement('div');
    card.className = 'admin-card';
    card.innerHTML = `
      <h3>ID #${i+1}</h3>
      <img id="preview${i}" class="preview-thumb" src="${item.img || 'https://placehold.co/600x180/1a1a24/444?text=Upload+Image'}" alt="preview">

      <input type="file" id="file${i}" accept="image/*" style="display:none" onchange="handleImageUpload(this, ${i})">
      <button class="file-upload-btn" onclick="document.getElementById('file${i}').click()">
        <i class="fa-solid fa-image"></i> Change Image
      </button>

      <input type="hidden" id="img${i}" value="${item.img || ''}">

      <input id="level${i}"   value="${item.level}"       placeholder="Level">
      <input id="rank${i}"    value="${item.rank}"        placeholder="Rank">
      <input id="gunSkins${i}" value="${item.gunSkins}"   placeholder="Gun Skins count">
      <input id="charSkins${i}" value="${item.charSkins}" placeholder="Characters (comma separated)">
      <input id="bundle${i}"  value="${item.bundle}"      placeholder="Bundle / Pass">
      <textarea id="desc${i}"  placeholder="Description">${item.description}</textarea>
      <input id="price${i}"   value="${item.price}"       placeholder="Price (₹)">

      <div style="margin:1.4rem 0;">
        <label style="display:flex; align-items:center; gap:0.6rem; font-size:0.95rem;">
          <input type="checkbox" id="sold${i}" ${item.sold ? 'checked' : ''}>
          Mark as Sold / Not Available
        </label>
      </div>

      <button style="background:var(--accent);color:#000;padding:0.9rem 1.6rem;border:none;border-radius:999px;font-weight:700;cursor:pointer;margin-right:0.8rem;" onclick="updateId(${i})">SAVE</button>
      <button style="background:var(--danger);color:white;padding:0.9rem 1.6rem;border:none;border-radius:999px;font-weight:700;cursor:pointer;" onclick="deleteId(${i})">DELETE</button>
    `;
    content.appendChild(card);
  });

  // Add new account button
  const addBtn = document.createElement('button');
  addBtn.textContent = '+ ADD NEW ACCOUNT (start with image)';
  addBtn.style.cssText = 'width:100%; padding:1.3rem; background:var(--success); color:#000; border:none; border-radius:999px; font-weight:700; font-size:1.1rem; margin:2rem 0; cursor:pointer;';
  addBtn.onclick = () => {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = 'image/*';
    input.style.display = 'none';
    input.onchange = e => {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = ev => {
        idList.push({
          img: ev.target.result,
          level: 1,
          rank: "NEW",
          gunSkins: 0,
          charSkins: "",
          bundle: "",
          description: "New account - edit details",
          price: 999,
          sold: false
        });
        renderAdminPanel();
      };
      reader.readAsDataURL(file);
    };
    document.body.appendChild(input);
    input.click();
    setTimeout(() => document.body.removeChild(input), 500);
  };
  content.appendChild(addBtn);
}

window.updateId = (idx) => {
  const hiddenImg = document.getElementById(`img${idx}`)?.value;

  idList[idx] = {
    img: hiddenImg || idList[idx].img,
    level: parseInt(document.getElementById(`level${idx}`)?.value) || 1,
    rank: document.getElementById(`rank${idx}`)?.value.trim() || "HEROIC",
    gunSkins: parseInt(document.getElementById(`gunSkins${idx}`)?.value) || 0,
    charSkins: document.getElementById(`charSkins${idx}`)?.value.trim() || "",
    bundle: document.getElementById(`bundle${idx}`)?.value.trim() || "",
    description: document.getElementById(`desc${idx}`)?.value.trim() || "",
    price: parseInt(document.getElementById(`price${idx}`)?.value) || 0,
    sold: document.getElementById(`sold${idx}`)?.checked || false
  };

  alert(`Account #${idx+1} saved!`);
  renderAdminPanel();
};

window.deleteId = (idx) => {
  if (!confirm("Delete this account permanently?")) return;
  idList.splice(idx, 1);
  renderAdminPanel();
};

// ────────────────────────────────────────────────
// PAGE LOADER
// ────────────────────────────────────────────────
function loadApp() {
  const isAdmin = window.location.pathname.includes('/admin');
  const app = document.getElementById('app');

  if (isAdmin) {
    app.innerHTML = `
      <div class="admin-login-container">
        <h2 style="color:var(--accent); margin-bottom:2rem; text-align:center;">ADMIN LOGIN</h2>
        <input type="password" id="adminPass" placeholder="Password">
        <button onclick="checkAdmin()" style="width:100%; padding:1.2rem; margin-top:1.2rem; background:var(--accent); color:#000; border:none; border-radius:999px; font-size:1.1rem; font-weight:700; cursor:pointer;">LOGIN</button>
        <div id="loginError" style="color:var(--danger); margin-top:1.2rem; text-align:center; min-height:1.5rem;"></div>
        <p style="margin-top:1.8rem; color:var(--text-muted); text-align:center; font-size:0.95rem;">password: admin123</p>
      </div>
    `;

    window.checkAdmin = () => {
      if (document.getElementById('adminPass').value === 'admin123') {
        app.innerHTML = `
          <div class="container">
            <div style="display:flex; justify-content:space-between; align-items:center; margin:2.5rem 0 1.5rem;">
              <div class="owner-tag"><i class="fa-solid fa-crown"></i> ADMIN PANEL</div>
              <button onclick="window.location.href='/'" style="background:#333; color:white; padding:0.8rem 1.6rem; border:1px solid var(--accent); border-radius:999px; cursor:pointer; font-weight:600;">← Back to Store</button>
            </div>
            <div class="admin-panel">
              <h2 style="color:var(--accent); margin-bottom:1.5rem;">Manage Accounts</h2>
              <div id="adminContent"></div>
            </div>
          </div>
        `;
        renderAdminPanel();
      } else {
        document.getElementById('loginError').textContent = 'Wrong password';
      }
    };
  } else {
    // MAIN STORE PAGE
    app.innerHTML = `
      <div class="container">
        <div class="header">
          <div class="logo">BLACK TEMPLE</div>
          <div class="owner-tag"><i class="fa-solid fa-crown"></i> BT RAI</div>
        </div>

        <div class="banner">
          <div class="banner-content">
            <h1>PREMIUM FREE FIRE IDs</h1>
            <p style="margin-top:0.7rem;">ALL INDIA TRUSTED DEALER</p>
          </div>
        </div>

        <div class="filter-wrapper">
          <div style="display:flex; justify-content:space-between; margin-bottom:1rem; font-weight:600;">
            <span>₹500</span>
            <span id="priceDisplay">₹100,000</span>
          </div>
          <input type="range" min="500" max="100000" value="100000" step="500" id="priceSlider" class="price-slider">
        </div>

        <h2 class="section-title">AVAILABLE ACCOUNTS</h2>
        <div class="card-grid" id="idCardContainer"></div>

        <h2 class="section-title">CONTACT US</h2>
        <div style="background:rgba(20,20,40,0.6); backdrop-filter:blur(12px); border:1px solid var(--border); border-radius:20px; padding:2rem; margin:2rem 0;">
          <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:2rem; text-align:center;">
            <div><i class="fa-solid fa-phone-volume" style="font-size:2rem;color:var(--accent);"></i><br>+91 76196 43039</div>
            <div><i class="fa-solid fa-envelope" style="font-size:2rem;color:var(--accent);"></i><br>btraitrustdeal@gmail.com</div>
            <div><i class="fa-brands fa-instagram" style="font-size:2rem;color:var(--accent);"></i><br>@black_temple_official_</div>
          </div>
        </div>
      </div>

      <footer class="footer-black">
        <div class="footer-grid">
          <div class="footer-item"><i class="fa-solid fa-phone"></i><br><a href="tel:+917619643039" style="color:var(--text);text-decoration:none;">+91 7619643039</a></div>
          <div class="footer-item"><i class="fa-solid fa-envelope"></i><br><a href="mailto:btraitrustdeal@gmail.com" style="color:var(--text);text-decoration:none;">btraitrustdeal@gmail.com</a></div>
          <div class="footer-item"><i class="fa-brands fa-instagram"></i><br><a href="https://instagram.com/black_temple_official_" target="_blank" style="color:var(--text);text-decoration:none;">black_temple_official_</a></div>
        </div>
        <div style="text-align:center; margin-top:3rem; color:var(--text-muted);">
          © 2025–2026 BLACK TEMPLE
        </div>
      </footer>

      <a href="https://wa.me/917619643039" target="_blank" class="whatsapp-float">
        <i class="fa-brands fa-whatsapp"></i>
      </a>
    `;

    const slider = document.getElementById('priceSlider');
    const display = document.getElementById('priceDisplay');
    if (slider && display) {
      slider.addEventListener('input', () => {
        display.textContent = `₹${Number(slider.value).toLocaleString('en-IN')}`;
        renderStore();
      });
      // Always render fresh data when main page loads
      renderStore();
    }
  }
}

window.onload = loadApp;
</script>
</body>
</html>
